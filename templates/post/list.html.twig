{% extends "/base.html.twig" %}
{% block menu_post %}
	active
{% endblock %}
{% block body %}
	

	<div class="d-flex justify-content-between my-3">
		<h1>Liste des articles <a class="btn" href="/main/home">Retour</a></h1>
	</div>

	<table class="table">
		<thead>
			<tr>
				<th>Titre</th>
				<th>Contenu</th>
                <th>Validité</th>
                <th>Auteur</th>
				<th>Publié le</th>
				<th>Modifié le</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
			{% for post in posts %}
				{% set user = post.user %}
				<tr>
					<td>{{ post.title }}</td>
                    <td class="w-25">{{ post.content }}</td>
					<td>{{ user }}</td>
					<td> 
						<time datetime="{{ post.createdAt|date('d-m-Y') }}">{{ post.createdAt|date('d-m-Y') }}</time>
						 <time datetime="{{ post.createdAt|date('H:i:s') }}">{{ post.createdAt|date('H:i:s') }}</time>
					</td>
					<td>
						<time datetime="{{ post.updatedAt|date('d-m-Y') }}">{{ post.updatedAt|date('d-m-Y') }}</time>
						 <time datetime="{{ post.updatedAt|date('H:i:s') }}">{{ post.updatedAt|date('H:i:s') }}</time>
					</td>
					<td class="d-flex flex-column">
						<a class="btn mx-4 my-4" href="/post/read/{{post.slug}}">voir</a>
						<a class="btn mx-4 my-4" href="/post/update/{{post.slug}}">edit</a>
						{{ include('post/_delete.html.twig') }}
					</td>
				</tr>
			{% else %}
				<tr>
					<td colspan="5">Aucun enregistrement trouvé</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>

	<a class="btn mb-5" href="/post/create">Ajouter un article</a>

{% endblock %}
