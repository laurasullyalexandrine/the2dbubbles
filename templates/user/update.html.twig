{% extends "/base.html.twig" %}

{% block menu_user %}
	active
{% endblock %}

{% block body %}
	<section>
		<div class="container">
			<div class="row d-flex justify-content-center align-items-center h-100">
				<div class="card text-light bg-dark" >
					<div class="card-body">
							<div class="d-flex justify-content-around my-3">
								<a class="btn" href="/user/read">Retour</a>
							</div>
						<div class="">
							<p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Modifier le profil de {{ user.pseudo }}</p>

							<form action="/user/update/{{ user.id }}" method="post" class="mx-1 mx-md-4">
								<div class="d-flex flex-row align-items-center mb-4">
									<i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
									<div class="form-outline flex-fill mb-0">
										<input type="text" name="pseudo" id="Pseudo" class="form-control" value="{{ user.pseudo }}"/>
										<label class="form-label" for="Pseudo">Prénom/Pseudo</label>
									</div>
								</div>

								<div class="d-flex flex-row align-items-center mb-4">
									<i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
									<div class="form-outline flex-fill mb-0">
										<input type="email" name="email" id="form3Example3c" class="form-control" value="{{ user.email }}"/>
										<label class="form-label" for="form3Example3c">Email</label>
									</div>
								</div>

								<div class="d-flex flex-row align-items-center mb-4">
									<i class="fas fa-lock fa-lg me-3 fa-fw"></i>
									<div class="form-outline flex-fill mb-0">
										<input type="password" name="password_1" id="password_1" class="form-control"/>
										<label class="form-label" for="form3Example4c">Mot de passe</label>
									</div>
								</div>
							{{dump(roles)}}
								<i class="fas fa-user fa-lg me-3 fa-fw"></i>
								<label class="form-label fs-5 fw-bolder" for="Role">Rôle</label>
								<div class="">
									{% for role in roles %}
										{% if role.id == role_current_user %}
											<div class="form-check ms-1">
												<input class="form-check-input" type="checkbox" name="role" id="Role" value="{{ role.id }}" checked>
												<label class="form-check-label" for="Role">{{ role.name }}</label>
											</div>
										{% else %}
											<div class="form-check ms-3">
												<input class="form-check-input" type="checkbox" name="role" id="Role" value="{{ role.id }}">
												<label class="form-check-label" for="Role">{{ role.name }}</label>
											</div>
										{% endif %}
									{% endfor %}
								</div>
								<div class="d-flex justify-content-center mx-4 my-5 mb-lg-4">
									{# <input type="hidden" value="{{ tokenCSRF }}" name="tokenCSRF"> #}
									<button class="btn btn-lg" type="submit">Modifier</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div></section>{% endblock %}
